# Fragmentsæ ¸å¿ƒé›†æˆæ–¹æ¡ˆ

## æ¶æ„è®¾è®¡

### æ ¸å¿ƒç†å¿µ
ä»¥Fragmentsä¸ºä¸»åº”ç”¨ï¼Œå°†å…¶ä»–å‰ç«¯åŠŸèƒ½ä½œä¸ºæ¨¡å—é›†æˆï¼Œå½¢æˆç»Ÿä¸€çš„å¼€å‘å’Œç®¡ç†å¹³å°ã€‚

## æ•´ä½“æ¶æ„

```
Fragments (Port 3001) - æ ¸å¿ƒåº”ç”¨
â”œâ”€â”€ ğŸ“ Fragments (ä»£ç ç‰‡æ®µç®¡ç†) - æ ¸å¿ƒåŠŸèƒ½
â”œâ”€â”€ ğŸ“Š Dashboard (ç›‘æ§é¢æ¿) - é›†æˆæ¨¡å—
â”œâ”€â”€ ğŸ–¥ï¸ Surf (AIæ¡Œé¢äº¤äº’) - é›†æˆæ¨¡å—
â”œâ”€â”€ ğŸ”Œ MCP Client (MCPæœåŠ¡ç®¡ç†) - é›†æˆæ¨¡å—
â””â”€â”€ ğŸ”§ E2B Backend (Port 3000) - åç«¯APIæœåŠ¡
```

## é›†æˆç­–ç•¥

### ç¬¬ä¸€é˜¶æ®µï¼šç›®å½•ç»“æ„é‡ç»„

```
/home/primihub/github/fragments/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                    # ä¸»é¡µï¼ˆFragmentsæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ fragments/                  # ä»£ç ç‰‡æ®µåŠŸèƒ½
â”‚   â”œâ”€â”€ dashboard/                  # ç›‘æ§é¢æ¿ï¼ˆä»/infra/dashboardè¿ç§»ï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx               # Dashboardä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ resources/             # èµ„æºç®¡ç†
â”‚   â”‚   â”œâ”€â”€ monitoring/            # ç³»ç»Ÿç›‘æ§
â”‚   â”‚   â””â”€â”€ mcp/                   # MCPæœåŠ¡ç›‘æ§
â”‚   â”œâ”€â”€ surf/                       # AIæ¡Œé¢ï¼ˆä»/infra/surfè¿ç§»ï¼‰
â”‚   â”‚   â””â”€â”€ page.tsx               # Surfä¸»é¡µ
â”‚   â””â”€â”€ mcp-client/                 # MCPå®¢æˆ·ç«¯ï¼ˆä»/user-interface/mcp-clientè¿ç§»ï¼‰
â”‚       â””â”€â”€ page.tsx               # MCP Clientä¸»é¡µ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx         # ç»Ÿä¸€å¸ƒå±€
â”‚   â”‚   â””â”€â”€ Navigation.tsx         # ç»Ÿä¸€å¯¼èˆª
â”‚   â”œâ”€â”€ fragments/                  # Fragmentsç»„ä»¶
â”‚   â”œâ”€â”€ dashboard/                  # Dashboardç»„ä»¶
â”‚   â”œâ”€â”€ surf/                       # Surfç»„ä»¶
â”‚   â””â”€â”€ mcp-client/                 # MCP Clientç»„ä»¶
â””â”€â”€ lib/
    â”œâ”€â”€ api/
    â”‚   â”œâ”€â”€ e2b.ts                 # E2B APIå®¢æˆ·ç«¯
    â”‚   â”œâ”€â”€ dashboard.ts           # Dashboard API
    â”‚   â””â”€â”€ mcp.ts                 # MCP API
    â””â”€â”€ auth.ts                     # ç»Ÿä¸€è®¤è¯
```

### ç¬¬äºŒé˜¶æ®µï¼šç»Ÿä¸€å¯¼èˆªè®¾è®¡

```
é¡¶éƒ¨å¯¼èˆªæ 
â”œâ”€â”€ ğŸ  é¦–é¡µ
â”œâ”€â”€ ğŸ“ Fragments (ä»£ç ç‰‡æ®µ + AIäº¤äº’) - ä¸»ç•Œé¢
â””â”€â”€ ğŸ“Š Dashboard (ç›‘æ§)
    â”œâ”€â”€ èµ„æºç®¡ç†
    â”œâ”€â”€ ç³»ç»Ÿç›‘æ§
    â””â”€â”€ MCPæœåŠ¡

Fragmentsç•Œé¢å¸ƒå±€ï¼ˆç»Ÿä¸€äº¤äº’ç•Œé¢ï¼‰
â”œâ”€â”€ å·¦ä¾§ï¼šç»Ÿä¸€å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ ä»£ç ç‰‡æ®µå¯¹è¯
â”‚   â”œâ”€â”€ AIæ¡Œé¢äº¤äº’ï¼ˆSurfåŠŸèƒ½ï¼‰
â”‚   â””â”€â”€ ç³»ç»Ÿç®¡ç†å¯¹è¯
â””â”€â”€ å³ä¾§ï¼šæ™ºèƒ½ä¸Šä¸‹æ–‡é¢æ¿ï¼ˆæ ¹æ®å¯¹è¯å†…å®¹åŠ¨æ€æ˜¾ç¤ºï¼‰
    â”œâ”€â”€ ä»£ç æ‰§è¡Œç»“æœ
    â”œâ”€â”€ Sandboxæ¡Œé¢é¢„è§ˆï¼ˆSurfåŠŸèƒ½æ¿€æ´»æ—¶ï¼‰
    â”œâ”€â”€ MCPæœåŠ¡çŠ¶æ€
    â”œâ”€â”€ æ–‡ä»¶æµè§ˆå™¨
    â””â”€â”€ DashboardæŒ‡æ ‡
```

### MCP Clientä¸Šä¸‹æ–‡é¢æ¿è®¾è®¡

**è§¦å‘æ¡ä»¶ï¼š**
- å¯¹è¯ä¸­æåˆ°MCPæœåŠ¡åç§°
- æ‰§è¡Œä¸MCPç›¸å…³çš„ä»£ç 
- ç”¨æˆ·ä¸»åŠ¨è¯·æ±‚æŸ¥çœ‹MCPçŠ¶æ€

**é¢æ¿å†…å®¹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MCPæœåŠ¡çŠ¶æ€                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ filesystem (å¥åº·)         â”‚
â”‚   å“åº”æ—¶é—´: 12ms            â”‚
â”‚                             â”‚
â”‚ âœ“ e2b-code-executor (å¥åº·)  â”‚
â”‚   å“åº”æ—¶é—´: 45ms            â”‚
â”‚                             â”‚
â”‚ âœ— backup-restore (ç¦»çº¿)     â”‚
â”‚   é”™è¯¯: Connection refused  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åˆ·æ–°] [è¯¦ç»†ä¿¡æ¯]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’æ–¹å¼ï¼š**
- ç‚¹å‡»æœåŠ¡åç§°æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- æ”¯æŒå¿«é€Ÿé‡å¯æœåŠ¡
- æ˜¾ç¤ºæœåŠ¡æ—¥å¿—
- æµ‹è¯•æœåŠ¡è¿æ¥

### ç¬¬ä¸‰é˜¶æ®µï¼šAPIé›†æˆ

**ç»Ÿä¸€APIå®¢æˆ·ç«¯**
```typescript
// lib/api/unified-client.ts
export class UnifiedAPIClient {
  // E2B API (Port 3000)
  e2b: E2BClient;

  // Dashboard APIs
  resources: ResourceAPI;
  monitoring: MonitoringAPI;
  mcp: MCPServicesAPI;

  // ç»Ÿä¸€è®¤è¯
  auth: AuthClient;
}
```

### ç¬¬å››é˜¶æ®µï¼šå®æ–½æ­¥éª¤

1. **å‡†å¤‡é˜¶æ®µ**
   - å¤‡ä»½ç°æœ‰åº”ç”¨
   - åˆ›å»ºé›†æˆåˆ†æ”¯

2. **è¿ç§»Dashboard**
   - å¤åˆ¶Dashboardç»„ä»¶åˆ°Fragments
   - è°ƒæ•´è·¯ç”±é…ç½®
   - æµ‹è¯•åŠŸèƒ½å®Œæ•´æ€§

3. **è¿ç§»Surf**
   - å¤åˆ¶Surfç»„ä»¶åˆ°Fragments
   - é›†æˆE2B APIè°ƒç”¨
   - æµ‹è¯•AIäº¤äº’åŠŸèƒ½

4. **è¿ç§»MCP Client**
   - å¤åˆ¶MCP Clientç»„ä»¶åˆ°Fragments
   - ç»Ÿä¸€MCPæœåŠ¡ç®¡ç†
   - æµ‹è¯•æœåŠ¡è¿æ¥

5. **ç»Ÿä¸€è®¤è¯å’Œå¸ƒå±€**
   - å®ç°ç»Ÿä¸€ç™»å½•
   - åˆ›å»ºä¸»å¸ƒå±€ç»„ä»¶
   - å®ç°å¯¼èˆªåˆ‡æ¢
