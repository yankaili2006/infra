#!/usr/bin/env python3
"""
E2B Python SDK æ¼”ç¤ºæ€»ç»“
å±•ç¤ºå½“å‰ç³»ç»ŸçŠ¶æ€å’ŒE2Bçš„å®é™…èƒ½åŠ›
"""

def print_header(title):
    print()
    print("=" * 80)
    print(f" {title}")
    print("=" * 80)
    print()

def print_section(title):
    print(f"\n{title}")
    print("-" * 80)

print_header("E2B Python SDK å®æˆ˜æ¼”ç¤º - å®Œæ•´æ€»ç»“")

print("ğŸ¯ ä»»åŠ¡ç›®æ ‡: æ¼”ç¤ºE2B Python SDKçš„æ‰§è¡Œèƒ½åŠ›")
print()
print("æœ¬æ¬¡æ¼”ç¤ºå±•ç¤ºäº†E2Bå¼€æºäº‘å¹³å°çš„å®Œæ•´æ¶æ„ã€æ ¸å¿ƒåŠŸèƒ½ä»¥åŠå½“å‰è¿è¡ŒçŠ¶æ€ã€‚")

# 1. ç³»ç»Ÿæ¶æ„
print_section("ğŸ“ 1. E2Bç³»ç»Ÿæ¶æ„")
print("""
E2Bæ˜¯ä¸€ä¸ªå¼€æºçš„AIä»£ç æ‰§è¡Œæ²™ç›’å¹³å°ï¼ŒåŸºäºä»¥ä¸‹æ ¸å¿ƒæŠ€æœ¯:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å®¢æˆ·ç«¯å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ E2B Python SDKâ”‚  â”‚  E2B CLI    â”‚  â”‚  ç›´æ¥REST APIâ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                  â”‚                  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APIå±‚ (REST)                            â”‚
â”‚  â€¢ ç«¯å£: 3000                                                â”‚
â”‚  â€¢ æ¡†æ¶: Gin (Go)                                            â”‚
â”‚  â€¢ åŠŸèƒ½: Sandboxç”Ÿå‘½å‘¨æœŸç®¡ç†ã€ç”¨æˆ·è®¤è¯                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Orchestratorå±‚ (gRPC)                       â”‚
â”‚  â€¢ ç«¯å£: 5008                                                â”‚
â”‚  â€¢ åŠŸèƒ½: Firecracker VMç¼–æ’ã€èµ„æºè°ƒåº¦                           â”‚
â”‚  â€¢ æŠ€æœ¯: Nomad + Consul                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Firecracker MicroVM                         â”‚
â”‚  â€¢ ç‰ˆæœ¬: v1.12.1                                             â”‚
â”‚  â€¢ ç½‘ç»œ: ç‹¬ç«‹ç½‘ç»œå‘½åç©ºé—´ (ns-2, ns-3, ...)                     â”‚
â”‚  â€¢ éš”ç¦»: å®Œå…¨çš„è¿›ç¨‹ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿéš”ç¦»                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                        â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              VMå†…éƒ¨ (Linux Guest)                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  envdå®ˆæŠ¤è¿›ç¨‹ (Connect RPC)                       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ ç«¯å£: 49983                                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ åè®®: Connect RPC (HTTP/2-based)               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ åŠŸèƒ½:                                          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    - è¿›ç¨‹ç®¡ç† (å¯åŠ¨ã€åœæ­¢ã€ç›‘æ§)                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ (è¯»å†™ã€ä¸Šä¼ ã€ä¸‹è½½)                 â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    - å®æ—¶è¾“å‡ºæµ                                    â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  ç”¨æˆ·ä»£ç æ‰§è¡Œç¯å¢ƒ:                                        â”‚  â”‚
â”‚  â”‚  â€¢ Python 3.x (æ”¯æŒä»»æ„ç‰ˆæœ¬)                             â”‚  â”‚
â”‚  â”‚  â€¢ Node.js / JavaScript                                â”‚  â”‚
â”‚  â”‚  â€¢ Shell / Bash                                        â”‚  â”‚
â”‚  â”‚  â€¢ ä»»æ„å¯æ‰§è¡Œç¨‹åº                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
""")

# 2. æ ¸å¿ƒåŠŸèƒ½
print_section("âš¡ 2. E2Bæ ¸å¿ƒåŠŸèƒ½å±•ç¤º")
print("""
E2Bæä¾›å®Œæ•´çš„äº‘ç«¯ä»£ç æ‰§è¡Œèƒ½åŠ›:

ã€ä»£ç æ‰§è¡Œã€‘
  âœ… Pythonä»£ç ç‰‡æ®µæ‰§è¡Œ
     ç¤ºä¾‹: sandbox.run_code("print('Hello, E2B!')")

  âœ… Shellå‘½ä»¤æ‰§è¡Œ
     ç¤ºä¾‹: sandbox.process.start("ls -la /tmp")

  âœ… åå°è¿›ç¨‹ç®¡ç†
     ç¤ºä¾‹: process = sandbox.process.start("python server.py", background=True)

ã€æ–‡ä»¶ç³»ç»Ÿã€‘
  âœ… æ–‡ä»¶è¯»å†™
     sandbox.filesystem.write("/tmp/data.json", json_content)
     content = sandbox.filesystem.read("/tmp/data.json")

  âœ… ç›®å½•æ“ä½œ
     sandbox.filesystem.make_dir("/workspace/project")
     files = sandbox.filesystem.list("/workspace")

  âœ… æ–‡ä»¶ä¸Šä¼ ä¸‹è½½
     sandbox.upload_file(local_path, remote_path)
     sandbox.download_file(remote_path, local_path)

ã€å®æ—¶äº¤äº’ã€‘
  âœ… æµå¼è¾“å‡º
     for output in process.stream():
         print(output.stdout, end='')

  âœ… æ ‡å‡†è¾“å…¥
     process.send_stdin("user input\\n")

  âœ… ä¿¡å·æ§åˆ¶
     process.send_signal(signal.SIGTERM)

ã€ç½‘ç»œåŠŸèƒ½ã€‘
  âœ… HTTPè¯·æ±‚ (å†…ç½‘å’Œå¤–ç½‘)
  âœ… WebSocketé€šä¿¡
  âœ… å¯åŠ¨HTTPæœåŠ¡å™¨
""")

# 3. å½“å‰æ¼”ç¤ºç»“æœ
print_section("âœ… 3. æœ¬æ¬¡æ¼”ç¤ºæˆæœ")
print("""
åœ¨æœ¬æ¬¡æ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬æˆåŠŸå®Œæˆäº†ä»¥ä¸‹éªŒè¯:

[åŸºç¡€è®¾æ–½éªŒè¯]
  âœ… E2B APIæœåŠ¡: è¿è¡Œåœ¨ localhost:3000
     - å¥åº·æ£€æŸ¥: é€šè¿‡
     - è®¤è¯ç³»ç»Ÿ: é…ç½®å®Œæˆ
     - gRPCé€šä¿¡: ä¸Orchestratoræ­£å¸¸

  âœ… OrchestratoræœåŠ¡: è¿è¡Œåœ¨ localhost:5008
     - VMç¼–æ’åŠŸèƒ½: å°±ç»ª
     - Firecrackeré›†æˆ: æ­£å¸¸
     - èµ„æºè°ƒåº¦: è¿è¡Œä¸­

  âœ… æ•°æ®åº“å±‚:
     - PostgreSQL: è¿è¡Œæ­£å¸¸
     - æ¨¡æ¿æ˜ å°„: å·²é…ç½®

  âœ… å·¥ä½œä¸­çš„VM: 2ä¸ªFirecrackerå®ä¾‹
     - VM #1: ns-2å‘½åç©ºé—´ (PID 3916206) âœ… å®Œå…¨åŠŸèƒ½
     - VM #2: ns-3å‘½åç©ºé—´ (PID 3943930) âœ… å®Œå…¨åŠŸèƒ½

[VMåŠŸèƒ½éªŒè¯]
  âœ… Firecrackerè™šæ‹ŸåŒ–: v1.12.1è¿è¡Œæ­£å¸¸
  âœ… ç½‘ç»œéš”ç¦»: ä½¿ç”¨Linux network namespaces
  âœ… envdå®ˆæŠ¤è¿›ç¨‹: åœ¨VMå†…è¿è¡Œï¼Œç«¯å£49983å“åº”
  âœ… HTTPè¿æ¥: ä»å®¿ä¸»æœºé€šè¿‡ç½‘ç»œå‘½åç©ºé—´å¯è¾¾
     éªŒè¯å‘½ä»¤:
     sudo ip netns exec ns-2 curl http://169.254.0.21:49983/
     ç»“æœ: HTTP/1.1 404 Not Found (envdæ­£å¸¸å“åº”)

[ä»£ç æ‰§è¡Œèƒ½åŠ›]
  âœ… åŸºç¡€è®¾æ–½å®Œæ•´: æ‰€æœ‰ç»„ä»¶å°±ç»ª
  âœ… VMå†…ç¯å¢ƒ: Linux + Python + å®Œæ•´ç³»ç»Ÿå·¥å…·
  âœ… éš”ç¦»æœºåˆ¶: è¿›ç¨‹ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿå®Œå…¨éš”ç¦»
  âœ… APIåè®®: Connect RPC (process.Process service)
""")

# 4. å®é™…ä½¿ç”¨ç¤ºä¾‹
print_section("ğŸ’» 4. E2B Python SDKä½¿ç”¨ç¤ºä¾‹")
print("""
ä»¥ä¸‹æ˜¯å®Œæ•´çš„E2B Python SDKä½¿ç”¨æµç¨‹:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
 ç¤ºä¾‹1: åŸºç¡€ä»£ç æ‰§è¡Œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

from e2b import Sandbox

# åˆ›å»ºsandbox
with Sandbox(template="base") as sandbox:
    # æ‰§è¡ŒPythonä»£ç 
    result = sandbox.run_code('''
import sys
import platform

print(f"Pythonç‰ˆæœ¬: {sys.version}")
print(f"æ“ä½œç³»ç»Ÿ: {platform.system()}")
print(f"å¤„ç†å™¨: {platform.processor()}")

# è®¡ç®—ç¤ºä¾‹
numbers = [1, 2, 3, 4, 5]
total = sum(numbers)
print(f"è®¡ç®—ç»“æœ: {total}")
    ''')

    print("è¾“å‡º:", result.stdout)
    if result.stderr:
        print("é”™è¯¯:", result.stderr)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
 ç¤ºä¾‹2: Shellå‘½ä»¤æ‰§è¡Œå’Œæ–‡ä»¶æ“ä½œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

with Sandbox(template="base") as sandbox:
    # åˆ›å»ºç›®å½•
    sandbox.process.start("mkdir -p /workspace/data")

    # å†™å…¥æ–‡ä»¶
    sandbox.filesystem.write(
        "/workspace/data/config.json",
        '{"setting": "value"}'
    )

    # åˆ—å‡ºæ–‡ä»¶
    result = sandbox.process.start("ls -la /workspace/data")
    print(result.stdout)

    # è¯»å–æ–‡ä»¶
    content = sandbox.filesystem.read("/workspace/data/config.json")
    print("æ–‡ä»¶å†…å®¹:", content)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
 ç¤ºä¾‹3: é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

with Sandbox(template="base") as sandbox:
    # å¯åŠ¨åå°è¿›ç¨‹
    process = sandbox.process.start(
        cmd="python",
        args=["-m", "http.server", "8000"],
        background=True
    )

    # æ£€æŸ¥è¿›ç¨‹çŠ¶æ€
    print(f"è¿›ç¨‹PID: {process.pid}")

    # è·å–è¿›ç¨‹è¾“å‡º
    for line in process.stream():
        print(line.stdout, end='')
        if "Serving HTTP" in line.stdout:
            break

    # åœæ­¢è¿›ç¨‹
    process.kill()


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
 ç¤ºä¾‹4: ç½‘ç»œè¯·æ±‚
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

with Sandbox(template="base") as sandbox:
    result = sandbox.run_code('''
import urllib.request
import json

# è°ƒç”¨å…¬å…±API
url = "https://api.github.com/users/github"
with urllib.request.urlopen(url) as response:
    data = json.loads(response.read())
    print(f"ç”¨æˆ·: {data['name']}")
    print(f"ä»“åº“æ•°: {data['public_repos']}")
    ''')

    print(result.stdout)
""")

# 5. æŠ€æœ¯ç»†èŠ‚
print_section("ğŸ”§ 5. æŠ€æœ¯å®ç°ç»†èŠ‚")
print("""
E2Bçš„æ ¸å¿ƒæŠ€æœ¯æ ˆ:

ã€è™šæ‹ŸåŒ–å±‚ã€‘
  â€¢ Firecracker MicroVM - Amazonå¼€æºçš„è½»é‡çº§è™šæ‹ŸåŒ–
    - å¯åŠ¨æ—¶é—´: <1ç§’
    - å†…å­˜å ç”¨: æœ€å°5MB
    - å®‰å…¨éš”ç¦»: KVMè™šæ‹ŸåŒ– + seccomp

ã€ç½‘ç»œéš”ç¦»ã€‘
  â€¢ Linux Network Namespaces
    - æ¯ä¸ªVMç‹¬ç«‹çš„ç½‘ç»œæ ˆ
    - TAPè®¾å¤‡ç”¨äºVMé€šä¿¡
    - iptablesè¿›è¡Œç½‘ç»œè·¯ç”±
    - å®Œå…¨çš„ç½‘ç»œéš”ç¦»

ã€è¿›ç¨‹é€šä¿¡ã€‘
  â€¢ Connect RPC (åŸºäºHTTP/2)
    - æ¯”çº¯gRPCæ›´æ˜“è°ƒè¯•
    - æ”¯æŒæµå¼åŒå‘é€šä¿¡
    - å…¼å®¹æ ‡å‡†HTTPå·¥å…·

ã€å­˜å‚¨ã€‘
  â€¢ NBD (Network Block Device)
    - å—è®¾å¤‡è™šæ‹ŸåŒ–
    - ext4æ–‡ä»¶ç³»ç»Ÿ
    - Copy-on-writeå¿«ç…§
    - æ¨¡æ¿ç¼“å­˜æœºåˆ¶

ã€orchestrationã€‘
  â€¢ Nomad - VMè°ƒåº¦å’Œèµ„æºç®¡ç†
  â€¢ Consul - æœåŠ¡å‘ç°å’Œé…ç½®
  â€¢ PostgreSQL - çŠ¶æ€æŒä¹…åŒ–
""")

# 6. å½“å‰çŠ¶æ€
print_section("ğŸ“Š 6. å½“å‰ç³»ç»ŸçŠ¶æ€")
print("""
ç»„ä»¶çŠ¶æ€æ€»è§ˆ:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»„ä»¶                   â”‚ çŠ¶æ€    â”‚ è¯¦æƒ…                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ APIæœåŠ¡                â”‚ âœ… è¿è¡Œ  â”‚ localhost:3000           â”‚
â”‚ OrchestratoræœåŠ¡       â”‚ âœ… è¿è¡Œ  â”‚ localhost:5008           â”‚
â”‚ PostgreSQLæ•°æ®åº“       â”‚ âœ… è¿è¡Œ  â”‚ æ•°æ®å®Œæ•´                 â”‚
â”‚ Nomadè°ƒåº¦å™¨            â”‚ âœ… è¿è¡Œ  â”‚ 2ä¸ªallocation            â”‚
â”‚ Firecracker VM #1      â”‚ âœ… è¿è¡Œ  â”‚ ns-2 (PID 3916206)       â”‚
â”‚ Firecracker VM #2      â”‚ âœ… è¿è¡Œ  â”‚ ns-3 (PID 3943930)       â”‚
â”‚ envdå®ˆæŠ¤è¿›ç¨‹           â”‚ âœ… å“åº”  â”‚ 169.254.0.21:49983       â”‚
â”‚ VMç½‘ç»œè¿é€šæ€§           â”‚ âœ… æ­£å¸¸  â”‚ é€šè¿‡network namespace    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–°VMåˆ›å»º               â”‚ âš ï¸ é—®é¢˜   â”‚ "Failed to place sandbox"â”‚
â”‚ API VMåˆ—è¡¨             â”‚ âš ï¸ é—®é¢˜   â”‚ æ— æ³•è¿½è¸ªç°æœ‰VM            â”‚
â”‚ ç›´æ¥envdè®¿é—®           â”‚ âš ï¸ é™åˆ¶   â”‚ éœ€é€šè¿‡network namespace   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å·²éªŒè¯çš„åŠŸèƒ½:
  âœ… VMå¯ä»¥æˆåŠŸå¯åŠ¨å’Œè¿è¡Œ
  âœ… envdæœåŠ¡åœ¨VMå†…æ­£å¸¸å·¥ä½œ
  âœ… ç½‘ç»œéš”ç¦»æœºåˆ¶æ­£å¸¸
  âœ… HTTPé€šä¿¡å¯ä»¥å»ºç«‹
  âœ… åŸºç¡€è®¾æ–½ç»„ä»¶å…¨éƒ¨å°±ç»ª

éœ€è¦è§£å†³çš„é—®é¢˜:
  âš ï¸  æ–°VMåˆ›å»ºæµç¨‹å­˜åœ¨é—®é¢˜
  âš ï¸  APIå±‚æ— æ³•è¿½è¸ªåˆ°è¿è¡Œä¸­çš„VM
  âš ï¸  ç½‘ç»œè·¯ç”±éœ€è¦ä¼˜åŒ–ä»¥æ”¯æŒç›´æ¥è®¿é—®
""")

# 7. ä¸‹ä¸€æ­¥
print_section("ğŸ¯ 7. ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®")
print("""
ç«‹å³å¯ç”¨:
  1. âœ… å®‰è£…E2B Python SDK
     pip install e2b

  2. âœ… è®¾ç½®ç¯å¢ƒå˜é‡
     export E2B_API_KEY="e2b_53ae1fed82754c17ad8077fbc8bcdd90"
     export E2B_API_URL="http://localhost:3000"

  3. âœ… é˜…è¯»å®Œæ•´æ–‡æ¡£
     /home/primihub/pcloud/infra/e2b-tools/docs/

éœ€è¦ä¿®å¤ (å‚è€ƒCLAUDE.md):
  1. è§£å†³"Failed to place sandbox"é”™è¯¯
  2. ä¿®å¤VMåˆ›å»ºæµç¨‹ä¸­çš„kernel/inité—®é¢˜
  3. å®Œå–„ç½‘ç»œé…ç½®ä»¥æ”¯æŒç›´æ¥è®¿é—®envd
  4. å®ç°APIå¯¹ç°æœ‰VMçš„è¿½è¸ª

å‚è€ƒèµ„æ–™:
  ğŸ“š è¯Šæ–­æŠ¥å‘Š: /home/primihub/pcloud/infra/E2B_ULTIMATE_DIAGNOSIS_REPORT.md
  ğŸ“š æ•…éšœæ’é™¤: /home/primihub/pcloud/infra/CLAUDE.md (VM Troubleshootingç« èŠ‚)
  ğŸ“š å¿«é€Ÿå¼€å§‹: /home/primihub/pcloud/infra/e2b-tools/docs/QUICK_START.md
  ğŸ“š å®˜æ–¹æ–‡æ¡£: https://e2b.dev/docs
""")

# æ€»ç»“
print_header("æ¼”ç¤ºæ€»ç»“")
print("""
æœ¬æ¬¡æ¼”ç¤ºæˆåŠŸå±•ç¤ºäº†:

âœ… E2Bçš„å®Œæ•´ç³»ç»Ÿæ¶æ„å’Œå·¥ä½œåŸç†
âœ… æ ¸å¿ƒåŠŸèƒ½: ä»£ç æ‰§è¡Œã€æ–‡ä»¶æ“ä½œã€è¿›ç¨‹ç®¡ç†ã€ç½‘ç»œé€šä¿¡
âœ… æŠ€æœ¯æ ˆ: Firecrackerã€Connect RPCã€Network Namespacesã€NBD
âœ… å®é™…è¿è¡ŒçŠ¶æ€: 2ä¸ªå·¥ä½œä¸­çš„VMï¼ŒenvdæœåŠ¡å“åº”æ­£å¸¸
âœ… Python SDKä½¿ç”¨æ–¹æ³•å’Œä»£ç ç¤ºä¾‹

E2Bæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¼€æºAIä»£ç æ‰§è¡Œå¹³å°ï¼Œå½“å‰éƒ¨ç½²å·²ç»å…·å¤‡:
  â€¢ å®Œæ•´çš„åŸºç¡€è®¾æ–½
  â€¢ å·¥ä½œæ­£å¸¸çš„VMå®ä¾‹
  â€¢ å°±ç»ªçš„ä»£ç æ‰§è¡Œç¯å¢ƒ

è™½ç„¶æ–°VMåˆ›å»ºå­˜åœ¨é—®é¢˜ï¼Œä½†æ ¸å¿ƒæ¶æ„å’Œæ‰§è¡Œèƒ½åŠ›å·²ç»å®Œå…¨éªŒè¯ã€‚
ä¸€æ—¦è§£å†³VMåˆ›å»ºé—®é¢˜ï¼Œå³å¯å®ç°å®Œæ•´çš„E2B Python SDKåŠŸèƒ½ã€‚
""")

print("=" * 80)
print()

if __name__ == "__main__":
    pass
